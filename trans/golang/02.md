# 二、Go入门

## 欢迎前往

无论你是经验丰富的程序员还是新手，你都会爱上Go。

Go 于 2007 年在谷歌诞生，当时三位资深工程师(罗伯特·格里森、罗布·派克和肯·汤普森)聚在一起构建他们想要用于系统编程的语言*。谷歌是一家独特的公司，它面临的问题也是独特的。有数不清的计算机，所有这些计算机都联网在一起，运行在不同的平台上，并以许多不同的编程语言进行开发，在谷歌，没有任何系统编程任务是微不足道的。*

 *Go 背后的基本原理是创建一种编程语言，可以用来构建健壮且高度可扩展的软件，抽象出在使用更传统编程语言的环境中工作的一些复杂性。包括我在内的许多人都非常喜欢在Go中编程，但他们的想法是，即使你没有爱上这门语言，你至少可以欣赏其中明智的设计决策。创建 Go 从来不是为了在编程语言设计中推行全新的范例；这一切都是为了构建一种伟大的语言，以应对程序员今天面临的挑战。

那么，这些工程师发现了哪些挑战，Go 如何应对这些挑战？

### 缓慢构建

尽管现在计算机快得多，但许多程序员的软件构建仍然慢得令人痛苦。使用 Go，您可以在一台计算机上在几秒钟内编译一个完整的程序。一切都编译成一个二进制文件。没有解释器(像 Python 或 JavaScript)，也不依赖于运行时环境(像 Java 的 JVM)。

### 依赖关系管理

管理依赖关系是当今程序员面临的一个巨大问题，像 C++这样的语言的旧“头文件”方法并不能很好地扩展。随着程序规模的增长，计算何时不再需要依赖变得非常困难。

Go 的依赖管理融入了语言本身。如果包被列为依赖项，并且程序中没有任何代码使用它，Go 编译器将引发错误，并且在删除依赖项之前不会进行进一步的编译。这保证了永远不会有任何不必要的依赖，并保持代码库的精简。Go 还会在依赖包之前构建依赖包，从而加快编译速度，因为在导入时编译器只打开一个文件。

### 静态分型

“坚持住！”我听到你说。“在所谓的‘现代’动态类型语言(如 JavaScript 和 Python)中，对静态类型化的反对声不是很大吗？”

是的，但是动态打字有它自己的问题。对于静态类型的语言，如 C++或 Java，您必须指定变量存储的数据类型。如果您试图将一种类型的数据存储在只支持另一种类型数据的变量中，编译器会检查程序中的变量赋值，并对您大喊大叫。这有助于在早期剔除许多愚蠢的错误，并避免以后一些痛苦的调试。但是动态类型语言的拥护者称赞开发的灵活性和速度。Go 提供了两个世界中最好的:它是静态类型的，但是语言的特性使它看起来具有动态类型语言的一些优点。

### 并发

并发意味着同时执行多个例程，以加快处理速度并减轻工作量。这是利用如今无处不在的多核处理器中所有额外资源的方法。在许多编程语言中，并发是事后的想法，很难做好。Go 为 Goroutines 和 channels 的并发编程提供了强大的支持。

### 内存管理

与许多编译语言不同，您不必自己管理内存。这通常是很难调试的内存泄漏的原因，这些内存泄漏会逐渐使系统停止。C 和 C++因这一点而臭名昭著:内存管理不当会导致内存泄漏，这很难调试，最终会导致应用程序停滞不前。Go 为您管理内存。当不再需要资源时，Go 的垃圾收集器会将其处理掉，并将内存释放回系统。

### 程序员一致性

程序员会日夜争论格式化代码的最佳方式。使用 Go，没有必要争论制表符与空格或不同注释风格的优点，因为 Go 指南明确了 Go 认为您应该采用哪种方式。甚至有一个工具可以把你的代码格式化，Go-style，给你。本课程中的所有示例都是通过 Go 格式化程序运行的。您可以显式调用它，或者，在大多数 IDEs 和编辑器中，您可以配置它在每次保存正在处理的文件时执行。

### 刀具链

Go 附带了许多其他现成的工具，用于记录、测试、维护以及程序员必须处理的所有其他耗时的任务。

### 容易学习

谷歌使用 C 风格的语法，这使得任何有用其他 C 风格语言(如 Java、C#和 JavaScript)编程经验的人都可以轻松学习 Go。

简而言之，Go 是一种现代编程语言，旨在应对现代编程挑战。它体积小，易于学习，功能强大。然而，它并不适合所有类型的项目。让我们看看Go擅长什么，不太有用的地方。

## 我可以用 Go 做什么？

Go有利于:

*   **网络应用、网络服务器和一般的分布式系统。** Go 对并发的支持非常棒，这些应用程序依赖并发来很好地扩展。更好的是，Go 的并发特性是语言本身固有的，不依赖于外部库。对其他需求的支持，例如 HTTP，可以在 Go 的标准库中找到。
*   **命令行应用程序和脚本。**Go 中的一切都编译成一个二进制文件，该文件几乎可以在任何平台上快速运行，没有外部依赖，除非您明确要求。更重要的是，Go 程序可以直接与 C 库对话，并对操作系统进行系统调用。这些特性使 Go 成为命令行应用程序和脚本的理想选择。

Go不是很擅长:

*   **桌面和图形用户界面应用。** Go 在多个平台上运行的优势实际上是它在编写桌面和 GUI 应用程序时的败笔。虽然有针对 GTK 的绑定，一个名为`walk`的 Windows 应用程序库，以及谷歌正在进行的构建一个名为`gxui`的跨平台用户界面库的工作，Go 社区还没有确定一个构建图形用户界面应用程序的理想方法。
*   **非常低级的编程。**虽然 Go 可以直接调用操作系统函数，但对于嵌入式系统、设备驱动等底层工作并不理想。这在很大程度上与它对操作系统的严重依赖有关。然而，有一个名为 Ethos 的项目正在进行中，这可能会使 Go 在未来更适用于此类应用。

现在，我们已经了解了 Go 背后的基本原理及其优缺点，让我们来谈谈语言本身。*