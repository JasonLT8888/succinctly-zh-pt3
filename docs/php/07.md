# 七、总结

PHP 是一种面向 web 开发的开源通用脚本语言。这种语言最初是由拉姆斯·勒多夫在 1994 年创造的，它被称为个人主页/表单解释器。PHP/FI 的第一个版本发布于 1995 年。后来在 1997 年出现了 PHP/FI 2.0。PHP 现在得到了 PHP 组的支持，PHP 的首字母缩写代表 PHP:超文本预处理器。目前稳定发布的是 7.0.13。下面的列表总结了 PHP 最重要的主题。

*   PHP 是 PHP 的缩写:超文本预处理器。
*   PHP 是一种开源语言，可以免费下载和使用。
*   PHP 在服务器上执行。
*   PHP 可以生成动态页面内容。
*   PHP 可以连接到各种各样的数据库。
*   PHP 可以在各种平台(Windows、Linux、UNIX、Mac OS X 等)上运行。).
*   PHP 几乎兼容现在使用的所有 web 服务器(IIS、Apache 等)。).
*   PHP 对于新手来说很容易学。

PHP 可以部署在使用 IIS(互联网信息服务)作为网络服务器的 Windows 环境中。要执行此部署，应满足以下要求:

*   计算机应该安装并运行 Windows 操作系统。
*   应该安装和配置 IIS。

要在 Windows 10 计算机上安装 IIS，您应该进入**控制面板**的**程序**部分，然后点击**打开或关闭**链接。接下来，勾选**窗口功能**对话框中的**互联网信息服务**复选框，以便为网络服务器安装带有默认功能的 IIS。

现在，要在计算机中安装 PHP，您应该从这个位置下载 zip 安装包[(对于 32 位系统来说是](http://windows.php.net/downloads/releases/php-7.1.4-nts-Win32-VC14-x86.zip "翂ቘ뿾빝į⒀窴"))，或者从这个位置下载[(对于 64 位系统来说是](http://windows.php.net/downloads/releases/php-7.1.4-nts-Win32-VC14-x64.zip "翂ቘ뿾빝į⒀窴"))。下载完成后，您应该将 zip 文件解压到名为**的文件夹中。**

要配置 PHP，将文件 **php.ini-development** 重命名为 **php.ini** 。然后，您可以编辑它来调整一些 PHP 工作参数，以符合 IIS 的要求。

作为最后一步，您应该将 **C:\PHP** 添加到 Path 系统变量中，并打开 IIS 管理器将 PHP 设置为将处理所有内容的程序。来自网络中任何客户端的 php web 请求。

现在，可以通过在网站根文件夹(通常是 **C:\inetpub\wwwroot** )中创建一个名为**phpinfo.php**的文本文件来测试安装过程。该文件应包含以下编程代码:`<?php phpinfo(); ?>`。接下来，在网页浏览器中输入**http://127 . 0 . 0 . 1/phpinfo . php**显示 PHP 安装信息。

PHP 编程依赖于脚本。PHP 中的脚本是一个文本文件，其中包含纯 PHP 编程代码，或者嵌入到 HTML 中的 PHP 编程代码，并在 web 服务器中执行。

与大多数编程语言一样，在 PHP 程序中存储数据的主要方式是使用变量，变量是用于动态保存数据的标识符，因此变量中存储的数据可以在执行流程中发生变化。

PHP 中的变量是通过用前导美元符号(`$`)表示它们的名称，然后用字母或下划线开头来声明的。变量可以自动从一种数据类型转换为另一种数据类型。

从声明变量的程序开始，变量可以在脚本的某个部分中使用。这就是所谓的可变范围。PHP 有以下变量作用域: *local* ，用于仅在声明它们的程序中可用的变量；*全局*，用于可在执行程序的任何部分访问的变量；*函数参数*，它们是使用它们的函数中可用的变量；和*静态*，它们是在函数内部声明的变量，在每次函数调用之间保持它们的值。

PHP 还允许您使用常量。常量是一种标识符，它保存一个简单的值，在脚本执行过程中不能更改。常量的标识符名称区分大小写。PHP 中的最佳实践规定常量名称应该是大写的。常数由`define()`函数定义。

PHP 使用表达式来执行计算。使用一组符号来执行这些计算。这些符号被称为*运算符，*，运算符之间声明的标识符被称为*操作数*。PHP 有以下类型的运算符:算术运算符，用于对数字进行运算；比较运算符，用于检查两个操作数之间的标准是否满足；逻辑运算符，用于根据两个操作数的逻辑状态获得真值或假值；赋值运算符，用于将表达式的值存储到操作数中；和条件运算符，用于执行内联决策。

当一个表达式包含多个运算符时，计算将严格按照顺序进行。这种顺序被称为运算符优先级。为了解释这种优先顺序，我们可以将运算符分为以下几类:一元运算符，即单个操作数之前的运算符；二进制，取两个操作数；三元，取三个操作数，根据第一个操作数的值计算第二个或第三个操作数；和赋值运算符，它们将值存储到操作数中。运算符优先级相当复杂。表达式中常见的运算符按以下顺序执行:递增和递减、一元、乘法和除法、加法和减法、关系、等式、按位、三元、赋值、逻辑`AND`、逻辑`XOR`、逻辑`OR`。

在 PHP 中，我们可以使用存储在变量中或直接放在语句右侧的字符序列。这些序列称为字符串。字符串可以用单引号或双引号分隔。PHP 根据字符串的分隔方式以不同的方式处理字符串。每个 PHP 语句都被认为是单引号字符串，但是当变量名出现在双引号字符串中时，PHP 会用其内容替换变量名。

当我们需要存储几个相似类型的值时，PHP 为我们提供了一个称为数组的数据结构。我们可以使用这种结构来代替声明许多变量。在 PHP 中，我们有以下类型的数组:数值数组，它存储可以使用数值索引访问的值；关联数组，使用字符串作为索引，并将它们与存储的值相关联；和多维数组，这些数组包含一个或多个使用多个索引访问其值的数组。可以使用`array()`函数创建数组，或者声明一个变量，后跟一个用括号括起来的索引。

PHP 提供了一组语句来根据条件采取行动。这些语句称为决策语句，它们是:`if … elseif … else`，当`if`语句后的条件为真时执行一个代码块，或者当`if`语句的条件为`false`时执行`elseif`语句内的代码块，当`elseif`语句的条件为`true`时执行`else`语句内的代码，或者当两个条件都为`false`时执行`else`语句内的代码；以及`switch`语句，该语句根据一个表达式与一系列值的相等性的比较来执行一个代码块，将每个代码块放在`case`子句之后，如果表达式值等于与该特定`case`子句相关联的值，则该语句还包含要执行的代码。

循环语句允许我们重复执行一个特定的代码块，或者满足某个条件，或者执行特定的次数，或者直到数据结构中的一系列元素都被迭代。这些循环语句是:`for`，它在一个代码块中循环指定的次数；`while`，当满足某个条件时，循环通过一个代码块；`do … while`，在一个代码块中循环一次，只要建立的条件为真，就重复执行；和`foreach`，当元素存在于数组中时，它多次循环通过一个代码块。PHP 提供了两个在循环中使用的特殊关键字:`break`，它提前终止了循环的执行；和`continue`，停止循环的执行并开始新的迭代。

PHP 允许用户创建函数。函数是一段代码，它通过使用一组名为参数的变量接收数据，然后处理这些数据并返回一个值。在 PHP 中，我们有用户定义的和内置的函数。开发人员使用保留的关键字`function`创建一个用户定义的函数，后跟该函数的名称。

当需要向函数传递数据时，应该使用一系列名为参数的标识符。这些是在函数名后面声明的一系列标识符，用括号括起来。您可以根据需要声明任意多的参数。所有这些参数都将作为函数中的变量。函数可以使用`return`语句向调用程序返回值。

我们可以将函数参数设置为默认值，以防调用程序没有向它们传递任何值。默认值是通过将所需值放在参数名称的右侧来定义的，前面是一个相等的赋值运算符(`=`)。

通过将其名称存储到字符串变量中，可以动态调用函数。然后，我们可以像使用函数名本身一样使用这个变量。

PHP 有一大套内置函数，可以分类。最相关的类别是:数组函数，它允许开发人员与数组进行交互和操作；日期和时间函数，从运行脚本的服务器获取日期和时间；字符串函数，允许开发人员操作字符串；字符函数，检查字符串或字符是否属于某一类；文件系统功能，访问和操作文件系统；和目录函数，用于操作目录。

PHP 允许代码重用，这对于用最少的努力维护复杂的应用非常重要。代码重用是通过文件包含来处理的。文件包含是用来将一个 PHP 文件的内容插入到另一个 PHP 文件中的机制，由两个功能来执行:`include()`，将指定文件中的所有文本复制到脚本中，出现问题时生成警告消息；和`require()`，类似于`include()`，只是出现问题时会暂停脚本执行。

PHP 提供了一系列的功能，帮助我们通过打开、读取、写入和关闭文件等操作来操作文件。功能`fopen()`、`filesize()`、`fread()`和`fclose()`应该一起使用，以便读取文件的内容。另一方面，如果我们想将文本写入文件，我们需要使用`fwrite()`功能，而不是`fread()`。

PHP 还支持广泛的数据库管理系统。MySQL 是与 PHP 结合使用最常用的数据库系统。PHP 7 包含一个名为`mysqli` (MySQL 改进版)的扩展，允许你访问 MySQL 4.1 及以上版本。就本书而言，将 MySQL 与 PHP 结合使用需要在用作网络服务器的计算机上安装 MySQL 的活动实例，并安装 MySQL 工作台实用程序。

本书中的练习使用了一个名为 **contactinfo** 的数据库，该数据库包含一个保存联系信息的表格。我们使用了 MySQL 工作台工具来创建这个数据库。本书中解释的练习插入了数据并查询了属于数据库的联系人表。这些练习通过一个名为`mysqli`的类使用了`mysqli`扩展。这个类的工作方式如下:构造函数(`mysqli()`)创建一个到 MySQL 服务器的连接，并使用属性`connect_errno`通知连接是否成功。如果连接成功，我们可以使用`query()`方法插入或检索数据。通过`statement`对象也允许参数化的 SQL 语句，该对象使用`bind_param()`方法将参数绑定到数据变量。

最后，本书讨论的所有主题都被收集起来，变成了一个简单的联系人列表网站。该网站将主页分为四个部分:一个标题，旨在显示网站的名称；一个工具栏，用于保存向表格中添加联系人的按钮；数据表，用于显示数据库中存储的所有联系人；和显示一些版权信息的页脚。我们还在标题部分的右侧放置了一个**关闭**按钮。这种设计采用了复杂的编程，因此我们使用了第 4 章中讨论的文件包含技术来开发它。我们使用**index.php**文档作为网站入口。然后，我们将网站主页的每个部分都编程到一个单独的文件中，并使用`require()`语句将所有这些文件包含在**index.php**中。