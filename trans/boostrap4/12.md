最后，我们来到了小油炸锅，大家总是忽略掉的桶底的残羹剩饭。

然而，在 BS4 的情况下，这些碎片非常强大，重量相当大。正如你将在这一章中看到的，就在你以为你已经看到了这一切的时候，仍然有许多惊喜要给你。

自从 BS3 以来，有一件大事发生了变化，那就是显示类。在 BS3 中，显示类被限制在一组隐藏和显示类中，这些类与断点相关联。

这意味着对于给定的断点，您只能“隐藏”或“显示”。例如，对于`visible-xs visible-lg`的类列表，该元素仅在大的或超小的断点处可见。例如，在其他断点处没有默认值。

如果您需要同时隐藏其他元素，通常会得到一个很长的类列表，并且有很多隐藏和显示，这使得它非常难以阅读。

块和内联显示有变化，但这些通常以名称结束，如`visible-xs-block-12`或`hidden-lg-inline-6`，甚至更糟糕的组合。

在 BS4 中，这种情况发生了巨大的变化，这主要归功于新的 Flexbox 优先的心态。

新的类名更简单，而且有更多的类名，覆盖了更广泛的用例。

作为一般的经验法则，现在你能想到的每种显示模式都有一个`d-*`类类型，如果需要的话，每个类都可以应用通常的断点，这样它们只在给定的屏幕尺寸下生效。

最好的部分是你现在不再需要使用尺寸修改器。如果你想让一个元素在所有屏幕尺寸下都显示，并且是一个`block`元素，那么你只需要使用`d-block`，而不是`visible-xs-block visible-sm-block visible-lg-block visible-xl-block`，就像你对 BS3 所做的那样。

拥有一个类也使得脚本操作变得更加容易。如果你想在页面上显示或隐藏一个元素，切换`d-block`和`d-none`很简单。

`d-{value}`的可用值为:

*   `none`
*   `inline`
*   `inline-block`
*   `block`
*   `table`
*   `table-cell`
*   `table-row`
*   `flex`
*   `inline-flex`

如果你完全熟悉标准的 CSS 显示模式，你会意识到每一种模式都与一个`display: {value}`样式规则相关。如果你想使用规则，使它们只在特定的断点上工作，那么`d-{breakpoint}-{value}`将为你实现。例如，`d-sm-block`意味着只有当屏幕宽度在小断点尺寸内时，该规则所附加的元素才会显示为`block`元素。标准断点值为:超小`xs`、小`sm`、大`lg`、超大`xl`。BS4 文档对尺寸的描述非常好[这里](https://getbootstrap.com/docs/4.1/layout/overview/)。

随着屏幕变窄，当您想要从布局中移除元素时，尺寸修改器非常有用。例如，在小屏幕上，您可能不希望在页面顶部使用大的英雄风格横幅，因此 a `d-sm-none d-xs-none`将快速移除它，而无需确保您在需要时考虑相反的规则来显示元素(默认情况下，一切都以`md`的大小显示)。

还有一个仅适用于显示工具的尺寸修改器，那就是`print`修改器。如果您有只想在页面发送到打印机时显示的元素，您可以使用`print`作为值，而不是大小类别之一。例如，如果您有一个菜单栏，当打印它下面的表格时，您不希望它出现，那么您可以添加类`d-print-none`，结果是只打印菜单栏下面的表格。

所有的显示类型都可以用`print`修改，这意味着你也可以创建页面中只在打印时显示的部分。这样做的一个很好的用途是打印出一个网址的链接，这样打印时，链接的目的地会显示在链接文本的旁边，但在浏览器中显示时会隐藏起来。

我没有给你任何显示实用程序的例子，因为当页面上没有显示任何东西时，很难产生有意义的屏幕截图。然而，文档的[实用程序部分的相关页面有很多。](https://getbootstrap.com/docs/4.1/layout/utilities-for-layout/)

BS3 绝对不具备的一点是操作元素边界的类。BS4 不仅有它们，还允许您使用它们来应用可用于警报、文本和背景的相同上下文颜色。您可以在两种模式下使用它们:加法和减法。

当您在添加模式下使用它们时，您正在向元素添加边框，这意味着如果您应用它们的元素已经有了现有的边框，您将看不到任何区别。一个`border`类将添加元素周围的所有边界，而`border-{value}`(其中`{value}`为`top`、`right`、`bottom`或`left`)将只向指定的一侧添加边界。您也可以组合它们，因此`border-left border-top`将在它们所应用的元素的顶部和左侧添加边框。

减色法，顾名思义，从已经存在的元素中移除指定的边，并通过在任何加法版本后添加一个`-0`来实现。例如，如果您有一个元素，并且您只希望顶部、左侧和底部有边框，您可以使用`border-top border-left border-bottom`，这是纯粹的加法，或者您可以使用`border border-right-0`，如您所见，它比加法版本的字符少。

之所以有加法和减法两种版本，纯粹是为了让你能为你试图产生的布局找到最佳组合，同时确保你的类列表尽可能小。

对于那些想要从 BS3 复制旧井组件的人来说，您可以很容易地做到这一点，如下面的列表所示。

代码清单 74:使用边界工具来生产一口具有弹性中部的井

```
    <!-- Body content goes here
  -->
    <div class="container">

  <br/>

  <div class="row" style="height: 100px;">

  <div class="col-1 bg-light border
  border-right-0">

  Left

  </div>

  <div class="col bg-light border-top
  border-bottom text-center">

  Middle

  </div>

  <div class="col-1 bg-light border
  border-left-0">

  Right

  </div>

  </div>
    </div>

```

从技术上来说，不需要三个`<div>`元素就能产出一口井，只需要将`border`和`bg-light`类规则应用到单个`<div>`上就能得到同样的效果。但是，如果您使用与我在代码清单 74 中使用的方法相同的方法，那么您可以更改中间部分的宽度，并且如果需要，仍然保持相同的侧帽和端帽。

浏览器中的渲染代码清单 74 应该会给你类似下图的东西。

![](../Images/image078.jpg)

图 75:由代码清单 74 产生的风格良好的组件

边框颜色可以通过在其余类后增加一个`border-{color}`来改变，其中`{color}`为常用颜色名称之一:`primary`、`secondary`、`success`、`danger`、`warning`、`info`、`light`、`dark`或`white`。更改代码清单 74 中左、中、右`<div>`元素的规则，并添加`border-danger`作为最后一个类名，当您按 **F5** 刷新时，您应该会看到您的输出更改如下。

![](../Images/image079.jpg)

图 76:我们的风格良好的组件，边界危险被添加到边界类中

你大概可以猜到，你也可以改变所有`bg-{color}`类的样式，允许你改变背景颜色，如果你选择，可以添加`text-{color}`类来改变文本颜色。

最后，您可以在元素中添加一个`rounded`或`rounded-{type}`来圆化元素上的角。`{type}`可以是`top`、`right`、`bottom`或`left`将舍入添加到指定的一侧，也可以是`circle`将元素变成圆形，或`0`取消舍入。

在代码清单 74 的例子中，在左边添加`rounding-left`和在右边添加`rounding-right``<div>`元素，将给出以下输出。

![](../Images/image080.jpg)

图 77:我们的井组件有圆形的左右边缘

边界实用程序可以应用于 BS4 工具包中的每个组件和元素，从按钮到输入字段，到卡片和导航栏、块、内嵌或其他。

正如您已经看到的，只需将`d-flex`添加到类列表中，就可以将任何容器变成 flex 容器。`d-flex`是另一个显示实用程序，也是您最有可能使用的一个工具，可以让您的容器面向 Flexbox。BS4 极大地简化了 Flexbox 的使用，但 Flexbox 标准作为一个整体远远不止于此。

我们没有时间描述 Flexbox 能做的一切——为此，我推荐“[Flexbox 是什么？！](https://flexbox.io/)“韦斯·博斯的系列教程。该系列易于理解，并将填补您对我即将讲述的内容的任何知识空白。

Flexbox(柔性框)显示模型是最近对 CSS 布局的一个长期问题的回答(与网格布局一起):具有适应可用屏幕大小的块元素。

在只有台式电脑的浏览器时代，这并不是一个大问题，但是当我们开始使用越来越小的设备来完成日常任务时，不同大小的设备开始成为网络应用程序设计中的一个大问题。Flexbox 的创建是为了通过允许用户界面设计适应不同的宽度和方向来帮助缓解这个问题，而不需要求助于多年来开发的许多 JavaScript 和服务器端呈现技术。

控制元素定位的各种 CSS 规则，如坚持开始、坚持结束或在父元素宽度上隔开子元素，已经被添加到 CSS 规范中，以管理浏览器如何响应布局。BS4 将这些规则集包装在 CSS 类中，使得只需将类添加到元素中并实现所需的行为变得简单。

您已经遇到了`d-flex`，它在块级元素上启用了 Flexbox。`d-inline-flex`做完全一样的事情，但是启用 Flexbox 用于内联样式元素，例如跨度。您可以进一步修改这两个类名中的每一个，以包括断点大小`xs`、`sm`、`lg`或`xl`，就像您在其他类中看到的一样。

使用大小调整类的效果与其他地方完全相同。例如，`d-sm-flex`仅当屏幕大小在小断点范围内时，才会在元素上启用 Flexbox，而在任何其他大小时，都会禁用它(默认)。像其他一样，它们可以组合，因此`d-sm-flex d-lg-inline-flex`将为小布局启用块级弹性框，为大布局启用内嵌弹性框，并为其他任何内容启用默认值。

Flexbox 容器还可以指定内容的工作方向。这个方向可以是`row`或者`column`，或者两者的`reverse`变体。添加`flex-row`、`flex-row-reverse`、`flex-column`或`flex-column-reverse`可以指定方向，同样，像`d-*`一样，可以根据需要使用不同的大小修改器来控制何时使用。

有一些对齐实用程序，如`align-items-start`、`align-items-middle`和`align-items-right`，用于确保您在 Flexbox 容器中的任何子元素都对齐到特定位置。这也扩展到在使用列模式时允许项目垂直放置。

包装类允许您将元素移动到下一行，如果子元素的宽度变得太宽而无法显示，则继续呈现。这对于设计相册的缩略图页面和类似的设计特别有用。

我将通过向您展示一个示例来结束关于使用 Flexbox 实用程序的这一部分，该示例将为您提供一些人所说的“黄金布局”，包括标题、内容、页脚以及左右侧边栏。

代码清单 75:黄金布局

```
    <!-- Body content goes here
  -->
    <style>
      body, html {

  height: 100vh;

  width: 100vw;

  }
    </style>
    <div class="container-fluid d-flex
  flex-column p-0" style="height: 100%; width: 100%;">

  <div class="bg-info" style="height: 100px;">

  <h1 class="text-dark
  text-center">Page
  Title</h1>

  </div>

  <div class="h-100 d-flex
  flex-row">

  <div class="col-2 m-2 bg-light
  border">Left Sidebar
  Area</div>

  <div class="col text-center">Main Page and Content Area</div>

  <div class="col-2 m-2 bg-light
  border">Right Sidebar
  Area</div>

  </div>

  <div class="bg-success" style="height: 50px;">

  <div class="container text-white">Page footer information</div>

  </div>
    </div>

```

不幸的是，代码清单 75 确实包含了一些样式属性和标签，但是这些更多的是用于垂直调整。虽然 Flexbox 对我们帮助很大，但我们仍然需要借助高度来专门固定元素高度。更重要的是，高度必须一直上升到父元素。如果不将 HTML 和正文元素设置为浏览器视口的大小，所有这些都不会像预期的那样工作，因为这些元素的子元素不知道整体大小的 100%。

实现这一点有几种不同的方法。我在这里给你的东西肯定可以整理得更好，但就目前的情况来看，你可以把它放到我们在本书其余部分一直使用的模板中。如果您这样做并渲染它，您应该会得到类似下图的东西。

![](../Images/image081.jpg)

图 78:代码清单 75 产生的布局

调整尺寸、调整填充和边距是让设计看起来平衡的重要部分。BS4 提供了许多类，旨在让您轻松地将这一重要方面做对。

宽度和高度有四种变化，分别为 25%、50%、75%和 100%。要使用它们，只需为高度或宽度指定一个`h`或一个`w`，后跟一个连字符，然后是百分比数字。例如，`w-25`给你 25%的宽度，`h-50`给你 50%的高度，`w-50 h-25`给你 50%的宽度，给你 25%的高度。

如果您想要基于像素的特定高度，您将需要使用样式属性，就像我们在代码清单 75 中对布局所做的那样。请记住，百分比高度是相对于父元素的，因此 100%是您正在调整大小的元素上方的元素提供的所有可用空间。如果父像素是 200 像素，那么 25%将是 50 像素，50%将是 100 像素，75%将是 150 像素，100%将是完整的 200。如果没有正确调整父高度，就会出现一些奇怪的大小错误。从那些花了太多时间去追踪这些事情的人那里得到这个——你真的不想要它们。

一旦你看了几个例子，填充类和边距类就有了一个相当简单的符号。 [BS4 文件](https://getbootstrap.com/docs/4.1/utilities/spacing/#notation)显示符号为`{property}{sides}-{size}`。`property`是你要设置的东西，是`m`做边距，`p`做填充。

`{sides}`是要应用属性的边，`{size}`是尺寸因子。如果不指定边，则大小调整将应用于元素的所有四个边。

上、下、左、右可以是`t`、`b`、`l`或`r`，上、下可以是`x`或`y`。

`{size}`可以是`1`、`2`、`3`、`4`或`5`，其中`1`为默认的 BS4 间距值乘以 0.25，`5`为默认的乘以 3。`2`、`3`和`4`的乘数分别为 0.5、1 和 1.5。

最后，您可以指定`auto`为您正在设置的属性分配自动大小。

所以，如果你想让你的元素在所有四边都有 BS4 默认间距作为边距，你可以使用`m-3`。如果你想让你的元素在左边有默认间距的四分之一，但是在右边有默认间距的三倍，并且它是填充的，你可以使用`pl-1 pr-3`。

如果您希望一个元素以相等的边距居中，那么`mx-auto`将同时为一个元素的左侧和右侧提供一个自动调整大小的边距。

您有关闭和箭头图标的实用程序，以及嵌入的内容，如视频和 iframes。有浮动控件、清除修复、图像替换等等。我们只是没有空间在这本书里涵盖所有的内容。 [BS4 文档](https://getbootstrap.com/docs/4.1/getting-started/introduction/)是我们尚未涉及的任何内容的最终来源。