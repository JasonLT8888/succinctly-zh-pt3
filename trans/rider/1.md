我仍然记得我拿到第一份 Visual Studio 的日子。当时，它和两本书一起出售，其中一本是 MSDN 文件的直接打印件。选择的技术当然是 C++和微软基础类(MFC)。就功能而言，当时的 Visual Studio 只不过是一个文本编辑器与集成的编译器和调试器的组合，其中文本编辑器带有一些语法突出显示和智能感知(微软的术语，我们通常称之为*代码完成*)。

当时，Visual Studio 在一台内存为 16MB(即*兆*字节)的机器上运行得非常好。虽然我无意走上 Visual Studio 版本的内存之路，但我目前正在一台内存为 16 千兆字节的笔记本电脑上使用 Visual Studio 2017，正好是我们在 Visual Studio 1997 时代的 1000 倍。具有讽刺意味的是，今天的 Visual Studio 感觉比 20 年前迟钝了很多。

怎么会变成这样？我认为这是由于缺乏竞争造成的。诚然，在 20 世纪 90 年代，Visual Studio 确实有各种各样的竞争对手。NET 空间(SharpDevelop 和 mono developer)，但它们总是爱好者级别的，并且像许多开源项目一样，没有得到足够的关注来成为可行的替代方案。这也于事无补，在当时，微软是所有与这两者相关的事情的最终把关人。NET 和 C#编程语言，更不用说对各种微软特定技术的支持了。在某种程度上，情况仍然如此:如果您想使用以微软为中心的技术堆栈(如 SharePoint、Dynamics 或 BizTalk)，您最有可能仍然使用 Visual Studio。

本书的主题“捷脑骑士”是 Visual Studio 的第一个有机会取代霸主地位的竞争对手。因此，它值得关注，因为在我看来，它所带来的价值超过了 Visual Studio 所提供的——无论是在编码特性方面还是在整个平台方面——足以让它成为主要的。NET IDE 在不久的将来。

这本书涵盖了骑手的核心特征。喷气大脑公司制造的以网络为中心的集成开发环境。我关注的是 IDE 对 C#语言(希望大家原谅我省略了 Visual Basic、F #——当然也支持)以及其他语言(XAML、网络语言等)的支持。)和技术(如 WPF 和 ASP。NET)。实际上，由于 Rider 本身是两种不同技术(IntelliJ 平台和 ReSharper)的混合，我们将讨论平台提供的功能(如源代码控制功能)以及编辑器支持的核心编辑体验(包括代码完成、导航和大量其他功能)。

首先，让我们来谈谈 JetBrains，一家著名的开发工具生产商。JetBrains 制造了很多不同的产品，但我们需要谈论两个关键的产品。

第一个叫 *IntelliJ IDEA* ，是个 Java(喘息！)集成开发环境(IDE)。是的，这是一个用 Java 编写的 Java IDE(最新的开发使用了 Kotlin，一种更容易接受的语言)，但是 IDEA 是建立在一个叫做 IntelliJ 平台的基础上的。正是在这个平台上，JetBrains 构建了它的所有 ide，支持当今的许多编程语言。IntelliJ 平台是开源的，因此任何想要为特定语言构建 IDE 的人都可以使用它作为基础。IntelliJ 平台是可扩展和可定制的——它有一个很棒的插件 API，GitHub 上有很多开源插件可供学习。至关重要的是，由于 IntelliJ 平台是基于 JVM 的，根据定义，它是跨平台的。

但是我们不是来讨论 JVM 的，对吗？我们是来讨论。NET 及相关技术。因此，很久以前，喷气大脑确实考虑过构建一个独立的 C# IDE。这里有证据——这个截图不容易获得！

![](../Images/image001.jpg)

图 1:喷气大脑的早期原型。NET IDE

最终，他们决定反对，转而做了一个叫做 *ReSharper* 的东西。ReSharper 是一个 Visual Studio 插件，它为 Visual Studio 用户提供了增强的导航、重构、代码分析和许多其他功能。本质上，ReSharper 包含了所有那些 JetBrains 打算放在独立 IDE 中的特性。

因此，十多年过去了，ReSharper 成为市场上最受欢迎的 Visual Studio 插件之一。看起来这种设置似乎会永远持续下去，但后来发生了一些有趣的事情:微软开源罗斯林(C#和 VB.NET 编译器)并开始制造。NET 跨平台。他们还改编了 electronic(以前的 Atom-shell)框架，并开始构建一个名为 Visual Studio Code 的全新跨平台 IDE。他们还收购了 Xamarin，一家拥有使用 C#制作跨平台移动应用产品的公司，并创建了。NET 标准，一个规范。NET 框架实现必须遵循。

所有这些事件都给了喷气大脑最终制造独立集成开发环境的想法。该集成开发环境最终被称为骑手(某种程度上是“ReSharper 集成开发环境”的缩写):一项独特的技术事业，融合了基于 JVM 的平台和。NET 的功能集成到一个产品中。

那么，什么是骑手？简单地说，它是一个独立的。以. NET 为中心的 IDE。当我说。NET 为中心，我指的不仅仅是 C#和 VB，还有不同的。. NET 平台(如。NET Core)以及不同的。NET 的平台和框架。

Rider 使用 ReSharper 基础架构作为后端，并且 ReSharper 不仅支持 C#和 VB.NET 语言，还支持 JavaScript 和 TypeScript 等网络语言以及各种标记语言。它还为 WPF 和 ASP.NET 等国家提供特定技术支持。

此外，Rider 建立在成熟且技术成熟的 IntelliJ 平台上，这意味着它可以“免费”获得许多功能例如，它支持许多不同的版本控制系统。IntelliJ 平台作为 Rider 的前端，除了 Rider 默认安装支持的语言之外，还有可能托管其他语言。

最大的问题是*考虑到我们已经从微软获得了 Visual Studio，为什么*你还要费心使用 Rider？好的，让我们试着列出 Rider 的所有主要优势:

*   骑手包括**ReSharper**的所有功能。这意味着所有那些代码检查、重构、导航功能和其他已经微调了十多年的有用特性都被直接烘焙到了 IDE 中。如果您只是使用 Visual Studio，您必须购买 ReSharper 才能获得同等的功能。
*   由于 Rider 是建立在成熟的 IntelliJ 平台上的**，它从中获得了很多好处，比如 Versopm 控制系统(VCS)的支持，以及大量已经由 JetBrains 和开发者社区为 IntelliJ 编写的插件。**
*   由于 IntelliJ 平台是基于 JVM 的， **Rider 是跨平台的**，而 Visual Studio 仍然局限于 Windows。
*   骑手提供**卓越的性能**。无论是从安装规模还是从内存中的工作集来看，Visual Studio 都已经成为某种庞然大物。骑手更紧凑，反应更灵敏。Rider 也摆脱了 Roslyn 的负担(除非您真的需要它，在这种情况下，您可以显式启用它)，利用它自己的基础架构进行代码分析。这意味着，与 ReSharper 不同，如果不需要，就不需要让 Roslyn 运行。
*   与 Visual Studio 不同， **Rider 是 64 位**。其实只是 64 位*。这带来了额外的好处，因为访问更多的内存意味着集成开发环境可以在内存中存储更多的索引和分析数据，而不是必须将其交换到磁盘。Visual Studio 进程停留在 32 位模式，没有迹象表明这种情况会很快改变。*
**   最后，这是一个关键的区别，Rider 的后端，也就是 ReSharper 部分，是**进程外**。它使用反应式消息传递与集成开发环境前端通信。它非常快，但进程外部分提供了有趣的可能性，例如可能放宽集成开发环境的两个部分驻留在同一内存空间的要求。*

 *现在，这里并不全是玫瑰；Visual Studio 确实有一些优势。当然，其中一些是由于骑手是一个相对年轻的产品。

*   Visual Studio 是 Windows 开发的事实标准。我们可以争论 Windows 本身是否是它曾经的大本营，但至少在微软生态系统中，Windows 和 Visual Studio 仍然齐头并进。
*   作为微软的大脑产物，visual Studio**涵盖了目前正在发布的所有微软技术**，包括非常企业化的技术，如 SharePoint、BizTalk、SQL Server 和微软动态。因此，如果您正在为这些技术进行开发，那么使用 Visual Studio 可能会更好，至少在 Rider 赶上它们之前是这样。
*   Visual Studio 还不仅附带代码编辑器，还附带**各种 GUI 和可视化设计器**。这些设计师的素质差异很大(尤其是 WPF 和网络)，但如果你真的需要他们，那么你可能会想坚持使用 Visual Studio。
*   Visual Studio 还与微软的团队软件开发产品 Team Foundation Server 紧密集成。Rider 确实支持 TFS 源代码管理，但是很明显，当涉及到问题跟踪和其他 TFS 特性时，Rider 没有提供任何开箱即用的集成。
*   Visual Studio 有一个**免费社区版**(更不用说 Visual Studio Code 的并行跨平台现实)，而 Rider 是一个纯粹的商业产品。

一份利弊清单并不足以确定《骑手》是否适合你。唯一能确定的方法就是下载 Rider 并尝试一下。说到这里…

首先，不得不说，Rider 就像(付费版的)Visual Studio 一样，是一款真正花钱的商业产品。然而，JetBrains 很友好，为它的每一个产品都提供了 30 天的试用期，所以你有一个月的时间来尝试并弄清楚你下载的 IDE 是否物有所值。他们还为任何从事开源项目的人(受一些标准的限制)和微软 MVP 提供免费的教育产品。

有两种方法可以获得骑手:从[产品页面](http://jetbrains.com/rider)下载的有点无聊的方法，或者是经典的、复杂的方法。“酷”的方法是使用另一个产品，叫做喷气大脑工具箱。它实际上是一个包管理器，可以让你安装、更新和卸载所有的喷气大脑产品。它非常有用，因为它非常简单:您可以使用它来安装或卸载应用程序，只需单击一下就可以更新您的所有应用程序，并选择是否要安装早期访问预览(甚至每晚！)产品构建。

可以从[这里](http://jetbrains.com/toolbox)下载工具箱。安装后，您将看到如下所示的弹出窗口:

![](../Images/image002.jpg)

图 2:喷气大脑工具箱

现在去找骑手，点击**安装**。安装完成后，点击**工具箱**中的**骑手**图标，骑手就会启动。

在大多数情况下，您永远不需要触摸图 2 所示的设置菜单项，但是在某些情况下是必要的。以下是您可以使用骑手设置控制的选项:

*   您可以指定何时更新骑手。选项包括:

*   **版本**:仅将骑手更新到生产版本。这适合大多数用户，因为生产版本是稳定的，不会提供任何惊喜。
*   **发布和 EAP** :还将 Rider 更新为早期访问预览版，这是由 JetBrains 在新版本发布之前发布的，旨在让用户在即将推出时体验这些功能。这要不稳定得多，但是 EAP 版本可以包含您在进入发布版本之前正在等待的修复。
*   **发布、EAP、夜间**:针对喜欢生活在边缘的人。包括夜间构建，这意味着集成开发环境不工作的风险更大，但是您可以每天看到进度。

*   您可以**明确禁用更新**并告诉骑手停留在特定版本。
*   您可以**启用自动更新**，因为默认情况下，更新过程是手动的(您需要打开工具箱并按下按钮开始更新)。
*   您可以指定**最大堆大小**，即 Rider 将使用的最大内存量(这实际上是 JVM 上的-Xmx 设置)。
*   您可以**编辑 Java 虚拟机选项**。请记住，Rider 由 JVM 和 CLR 部分组成，因此您将只编辑 Rider 前端的设置。

| ![](../Images/tip.png) | 提示:编辑 Java 虚拟机选项的一个实际用途是启用所谓的内部模式。这是使用-Didea.is.internal=true 开关完成的。这将启用各种诊断模式以及某些实用程序操作。这些对于 IDE 调试和插件开发人员特别有用。 |

就这样！我们准备开始探索骑手。*